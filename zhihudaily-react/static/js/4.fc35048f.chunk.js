(window["webpackJsonpzhihudaily-react"]=window["webpackJsonpzhihudaily-react"]||[]).push([[4],{93:function(e,a,t){},97:function(e,a,t){"use strict";t.r(a);var l,s=t(12),n=t(0),c=t.n(n),i=t(7),r=t(22),d=t.n(r),m=t(34),o=t.n(m),u=t(9),p=t(24),E=(t(93),Object(n.memo)((function(e){var a=e.article;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"header pre"},c.a.createElement("img",{className:"wh100 cover2 nobd",src:a.image,alt:""}),c.a.createElement("h4",{className:"title pab nol"},a.title),c.a.createElement("span",{className:"img-source pab nob nor"},a.image_source)),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.body}}))}))),b=Object(n.memo)((function(){var e=Object(n.useState)({}),a=Object(s.a)(e,2),t=a[0],r=a[1],m=Object(n.useState)("center"),b=Object(s.a)(m,2),h=b[0],f=b[1],O=Object(n.useState)(1),g=Object(s.a)(O,2),N=g[0],v=g[1],j=Object(n.useContext)(u.a),S=j.appState,y=j.appDispatch,I=Object(i.f)(),w=Object(i.h)(),_=Object(n.useCallback)((function(e){d.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/"+e).then((function(e){200===e.status&&r(e.data.CONTENTS)})).catch((function(e){console.log(e)})),d.a.get("https://zhihu-daily.leanapp.cn/api/v1/contents/extra/"+e).then((function(a){200===a.status&&y({type:"SET_SIDEBAR_INFO",payload:{type:"details",data:{comments:a.data.DES.comments,popularity:a.data.DES.popularity,detailsId:e}}})})).catch((function(e){console.log(e)}))}),[]),C=Object(n.useCallback)((function(e){0===e?(f("left"),v(0)):e===S.detailsSlideIds.length-1?(f("right"),v(2)):(f("center"),v(1))}),[]),D=Object(n.useMemo)((function(){return{dots:!1,infinite:!1,autoplay:!1,arrows:!1,initialSlide:N,beforeChange:function(e,a){if(e!==a){var t=S.detailsSlideIds.indexOf(l);t=t-e+a,l=S.detailsSlideIds[t],_(l),I.replace("/article/list/"+l),C(t)}}}}),[N]);return Object(n.useEffect)((function(){y({type:"SET_SIDEBAR_INFO",payload:{type:"details",data:{comments:"...",popularity:"...",detailsId:w.id}}}),l=parseInt(w.id),_(l);var e=S.detailsSlideIds.indexOf(l);C(e)}),[]),S.detailsSlideIds.length&&"list"===w.type?c.a.createElement(c.a.Fragment,null,"left"===h&&c.a.createElement(o.a,Object.assign({},D,{className:"details-page-slider"}),c.a.createElement("div",{className:"storie-details"},c.a.createElement(E,{article:t})),c.a.createElement("div",{className:"storie-details"},c.a.createElement(p.a,null)),c.a.createElement("div",{className:"storie-details"},c.a.createElement(p.a,null))),"center"===h&&c.a.createElement(o.a,Object.assign({},D,{className:"details-page-slider"}),c.a.createElement("div",{className:"storie-details"},c.a.createElement(p.a,null)),c.a.createElement("div",{className:"storie-details"},c.a.createElement(E,{article:t})),c.a.createElement("div",{className:"storie-details"},c.a.createElement(p.a,null))),"right"===h&&c.a.createElement(o.a,Object.assign({},D,{className:"details-page-slider"}),c.a.createElement("div",{className:"storie-details"},c.a.createElement(p.a,null)),c.a.createElement("div",{className:"storie-details"},c.a.createElement(p.a,null)),c.a.createElement("div",{className:"storie-details"},c.a.createElement(E,{article:t})))):c.a.createElement("div",{className:"storie-details fe"},c.a.createElement(E,{article:t}))}));a.default=b}}]);
//# sourceMappingURL=4.fc35048f.chunk.js.map